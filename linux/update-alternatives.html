
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>update-alternatives - William DeMeo</title>
  <meta name="author" content="William DeMeo">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content="Here are some notes on update-alternatives and some examples demonstrating its
use. The purpose of the update-alternatives utility program is to &hellip;">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://williamdemeo.github.io/linux/update-alternatives.html">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="William DeMeo" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="William DeMeo" />
  <meta name="og:title" content="update-alternatives" />
  <meta name="og:description" content="Here are some notes on update-alternatives and some examples demonstrating its
use. The purpose of the update-alternatives utility program is to &hellip;" />
  <meta name="og:url" content="http://williamdemeo.github.io/linux/update-alternatives.html"/>
  <meta name="url" content="http://williamdemeo.github.io/linux/update-alternatives.html">
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="/javascripts/foundation.min.js"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
  TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]}
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
<script src="/javascripts/AMSmath.js" type="text/javascript"></script>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44974674-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</head>


<nav role="navigation"><div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="/">William DeMeo</a>
    <ul class="nav">
      <li><a href="/">Home</a></li>
      <li><a href="/archives">Archives</a></li>
<!--      <li><a href="/pages">Pages</a></li>-->
    </ul>
    <ul class="nav" data-subscription="rss">
      <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
      
    </ul>
      
    <form class="navbar-form" action="http://google.com/search" method="get">
      <fieldset role="search">
        <input type="hidden" name="q" value="site:williamdemeo.github.io" />
        <input class="span2" type="text" name="q" results="0" placeholder="Search"/>
      </fieldset>
    </form>
      
    
  </div>
</div>
</nav>
<div class="wrapper_single">
  <div class="container">
    <article class="span8 offset2 article-format" role="article">
      <div role="div">
        
        <header>
          <h1 class="entry-title">Update-alternatives</h1>
          <p class="meta">








  


<time datetime="2014-03-13T10:30:00-04:00" pubdate data-updated="true">Mar 13<span>th</span>, 2014</time></p>
        </header>
        
        <p>Here are some notes on <code>update-alternatives</code> and some examples demonstrating its
use. The purpose of the update-alternatives utility program is to manage,
on a single machine, serveral versions of programs that all provide the same
functionality. </p>

<hr />

<h2 id="contents">Contents</h2>
<ul>
  <li><a href="#synopsis">Synopsis</a></li>
  <li><a href="#examples">Examples</a>
    <ul>
      <li><a href="#eclipse">Eclipse</a></li>
      <li><a href="#java">Java</a></li>
      <li><a href="#ruby">Ruby</a></li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="synopsis">Synopsis</h2>

<p>Excerpts from the <a href="http://linux.die.net/man/8/update-alternatives">update-alternatives man page</a>:</p>

<p>It is possible for several programs fulfilling the same or similar functions to
be installed on a single system at the same time. Debian’s alternatives system
aims to manage this situation.  A generic name in the filesystem is shared by
all files providing interchangeable functionality.  The alternatives system and
the system administrator together determine which actual file is referenced by
this generic name.  </p>

<p>The generic name is not a direct symbolic link to the selected alternative.
Instead, it is a symbolic link to  a  name in the alternatives  directory, which
in turn is a symbolic link to the actual file referenced.  This is done so that 
the system administrator’s changes can be confined within the /etc directory.</p>

<p>When  each  package  providing a file with a particular functionality is
installed, changed or removed, update-alternatives is called to update
information about that file in  the  alternatives  system. </p>

<hr />

<h2 id="examples">Examples</h2>

<h3 id="eclipse">Eclipse</h3>

<p>Eclipse seems idosyncratic and tempremental to me, and I have found various
versions working well sometimes and poorly other times.  Also, there are useful
plugins that are only available for some versions and not others.</p>

<p>I currently have four versions of Eclipse installed—a version provided by TypeSafe
customized for Scala, and three
<a href="http://wiki.eclipse.org/Simultaneous_Release">simultaneous releases</a>, 
Juno, Kepler, and Luna.
(<a href="https://www.eclipse.org/downloads/index-developer.php">Luna</a> is a <a href="https://www.eclipse.org/downloads/index-developer.php">developer build</a>.)
This section describes how they are all made available on the same machine.</p>

<hr />

<p><strong>Update:</strong> To work around a bug in Ubuntu that prevents Eclipse
menus from showing up, create the following startup scripts
in three separate files (modify the paths as appropriate for your eclipse installtion):</p>

<p>The file <code>$HOME/opt/Eclipse/juno/eclipse-juno</code> contains</p>

<pre><code>    #!/bin/bash
    export UBUNTU_MENUPROXY=0
    $HOME/opt/Eclipse/juno/eclipse
</code></pre>

<p>The file <code>$HOME/opt/Eclipse/keplar/eclipse-keplar</code></p>

<pre><code>    #!/bin/bash
    export UBUNTU_MENUPROXY=0
    $HOME/opt/Eclipse/kepler/eclipse
</code></pre>

<p>The file <code>$HOME/opt/scala/eclipse-scala</code></p>

<pre><code>    #!/bin/bash
    export UBUNTU_MENUPROXY=0
    $HOME/opt/scala/scala-SDK-3.0.2-vfinal-2.10-linux.gtk.x86_64/eclipse
</code></pre>

<p>(See also: 
<a href="http://stackoverflow.com/questions/19452390/eclipse-menus-dont-show-up-after-upgrading-to-ubuntu-13-10">this post</a>.)</p>

<hr />

<p>Next, do the following:</p>

<pre><code>sudo update-alternatives --install /usr/bin/eclipse eclipse $HOME/opt/scala/eclipse-scala 400
sudo update-alternatives --install /usr/bin/eclipse eclipse $HOME/opt/Eclipse/luna/eclipse-luna 300
sudo update-alternatives --install /usr/bin/eclipse eclipse $HOME/opt//Eclipse/kepler/eclipse-kepler 200
sudo update-alternatives --install /usr/bin/eclipse eclipse $HOME/opt/Eclipse/juno/eclipse-juno 100
</code></pre>

<p>Note that the numbers 500, 400, 300 indicate the respective priorities, and
since Lina has the highest number, it will be the initial default program.</p>

<p>If you want to remove any alternative that you added accidentally, the command
to use is, e.g.,</p>

<pre><code>sudo update-alternatives --remove eclipse $HOME/opt/scala/eclipse-scala
</code></pre>

<p>The command <code>update-alternatives --config eclipse</code> gives the following output:</p>

<pre><code>There are 3 choices for the alternative eclipse (providing /usr/bin/eclipse).

  Selection    Path                                      Priority   Status
------------------------------------------------------------
* 0            /home/william/opt/scala/eclipse/eclipse    600       auto mode
  1            /home/william/opt/Eclipse/juno/eclipse     300       manual mode
  2            /home/william/opt/Eclipse/kepler/eclipse   400       manual mode
  3            /home/william/opt/Eclipse/luna/eclipse     500       manual mode
  4            /home/william/opt/scala/eclipse/eclipse    600       manual mode
</code></pre>

<p>The command <code>update-alternatives --query eclipse</code> prints:</p>

<pre><code>Name: eclipse
Link: /usr/bin/eclipse
Status: auto
Best: /home/william/opt/scala/eclipse/eclipse
Value: /home/william/opt/scala/eclipse/eclipse

Alternative: /home/william/opt/Eclipse/juno/eclipse
Priority: 300

Alternative: /home/william/opt/Eclipse/kepler/eclipse
Priority: 400

Alternative: /home/william/opt/Eclipse/luna/eclipse
Priority: 500

Alternative: /home/william/opt/scala/eclipse/eclipse
Priority: 600
</code></pre>

<p>If you want to create an application launcher for the Unity dash for any of these
alternatives, do so with the following commands:</p>

<pre><code>mkdir -p ~/.local/share/applications
gnome-desktop-item-edit --create-new ~/.local/share/applications/
</code></pre>

<hr />

<h3 id="java">Java</h3>
<p>After downloading JDK 7 from the <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html">Oracle JDK 7 downloads page</a>.
I unpacked it and moved it to a directory called /usr/lib/jvm/jdk1.7.0/. I then
made it the default Java on my machine using the commands below. (The first
block of 9 commands can be copy-and-pasted to the command line all at once.) </p>

<pre><code>    sudo update-alternatives --install "/usr/bin/java" "java" "/usr/lib/jvm/jdk1.7.0/bin/java" 1;
    sudo update-alternatives --install "/usr/bin/javac" "javac" "/usr/lib/jvm/jdk1.7.0/bin/javac" 1;
    sudo update-alternatives --install "/usr/bin/javaws" "javaws" "/usr/lib/jvm/jdk1.7.0/bin/javaws" 1;
    sudo update-alternatives --install "/usr/bin/jcontrol" "jcontrol" "/usr/lib/jvm/jdk1.7.0/bin/jcontrol" 1;
    sudo chmod a+x /usr/bin/java;
    sudo chmod a+x /usr/bin/javac;
    sudo chmod a+x /usr/bin/javaws;
    sudo chmod a+x /usr/bin/jcontrol;
    sudo chown -R root:root /usr/lib/jvm/jdk1.7.0;
</code></pre>

<p>The following commands are interactive and should be invoked individually:</p>

<pre><code>    sudo update-alternatives --config java
    sudo update-alternatives --config javac
    sudo update-alternatives --config javaws
    sudo update-alternatives --config jcontrol
</code></pre>

<hr />

<h3 id="ruby">Ruby</h3>

<p>This example comes from an old
<a href="https://groups.google.com/forum/#!topic/rails-oceania/iislbRF9tJ8">forum post</a></p>

<pre><code># install ruby1.8 &amp; friends with priority 500
# so this will be the default "auto" choice
update-alternatives --install /usr/bin/ruby ruby /usr/bin/ruby1.8 500 \
                    --slave   /usr/share/man/man1/ruby.1.gz ruby.1.gz \
                                  /usr/share/man/man1/ruby.1.8.gz \
                    --slave   /usr/bin/ri ri /usr/bin/ri1.8 \
                    --slave   /usr/bin/irb irb /usr/bin/irb1.8 

# install ruby1.9 &amp; friends with priority 400
update-alternatives --install /usr/bin/ruby ruby /usr/bin/ruby1.9 400 \
                    --slave   /usr/share/man/man1/ruby.1.gz ruby.1.gz \
                                   /usr/share/man/man1/ruby.1.9.gz \
                    --slave   /usr/bin/ri ri /usr/bin/ri1.9 \
                    --slave   /usr/bin/irb irb /usr/bin/irb1.9 

# choose your interpreter 
# changes symlinks for /usr/bin/ruby , 
# /usr/bin/irb, /usr/bin/ri and man (1) ruby
update-alternatives --config ruby 
</code></pre>


        
          <footer>
            <p class="meta">
              
              








  


<time datetime="2014-03-13T10:30:00-04:00" pubdate data-updated="true">Mar 13<span>th</span>, 2014</time>
              
            </p>
          </footer>
        
      </div>
    
    </article>
  </div>
</div>
<div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/2014/02/27/learn-you-an-agda/">Learn You an Agda</a>
        </li>
      
        <li>
          <a href="/2014/02/13/isotopy/">Isotopy</a>
        </li>
      
        <li>
          <a href="/2014/02/13/a-problem-of-palfy-and-saxl/">A problem of P&aacute;lfy and Saxl</a>
        </li>
      
        <li>
          <a href="/2014/02/13/algebra-and-logic-meetings/">Algebra &amp; Logic Meetings</a>
        </li>
      
        <li>
          <a href="/2014/02/13/typefunc/">TypeFunc</a>
        </li>
      
    </ul>
    <h2><a href="/archives">archives</a></h2>
  </div>
  <!-- <div class="span3"> -->
  <!--   
 -->
  <!-- </div> -->
  <div class="span7">
    
<h2>recent git activity</h2>
<dl id="gh_repos" class="dl-horizontal" data-github-user="williamdemeo" data-github-repo-count="5" data-github-skip-forks="true">
  <dd class="loading">updating...</dd>
</dl>
<script src="/javascripts/github.js" type="text/javascript"> </script>
<script src="/javascripts/libs/jXHR.js" type="text/javascript"> </script>


  </div>
  <!-- <div class="span4"> -->
  <!--   
 -->
  <!-- </div> -->
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/williamdemeo/" rel="tooltip" title="GitHub"><img class="social_icon" alt="github icon" src="/images/glyphicons_381_github.png"></a>









<a href="https://plus.google.com/u/0/+williamdemeo?rel=author" rel="tooltip" title="Google Plus"><img class="social_icon" alt="Google Plus icon" src="/images/glyphicons_386_google_plus.png"></a>





<a href="http://mathoverflow.net/users/9124/william-demeo/" rel="tooltip" title="MathOverflow"><img class="social_icon" alt="math overflow icon" src="/images/mathoverflow.ico"></a>



<a href="http://math.stackexchange.com/users/10915/william-demeo/" rel="tooltip" title="Math SE"><img class="social_icon" alt="math overflow icon" src="/images/mathstackexchange.ico"></a>




  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">William DeMeo</a>
  - Copyright &copy; 2014 - William DeMeo
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

  </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>






