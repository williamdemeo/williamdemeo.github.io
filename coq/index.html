
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Coq - William DeMeo</title>
  <meta name="author" content="William DeMeo">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content="Background This page collects some basic information about Coq, and is mainly intended for
my research students interested in learning how to use &hellip;">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://williamdemeo.github.io/coq/">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="William DeMeo" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="William DeMeo" />
  <meta name="og:title" content="Coq" />
  <meta name="og:description" content="Background This page collects some basic information about Coq, and is mainly intended for
my research students interested in learning how to use &hellip;" />
  <meta name="og:url" content="http://williamdemeo.github.io/coq/index.html"/>
  <meta name="url" content="http://williamdemeo.github.io/coq/index.html">
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="/javascripts/foundation.min.js"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
  TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]}
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
<script src="/javascripts/AMSmath.js" type="text/javascript"></script>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44974674-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</head>


<nav role="navigation"><div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="/">William DeMeo</a>
    <ul class="nav">
      <li><a href="/">Home</a></li>
      <li><a href="/archives">Archives</a></li>
<!--      <li><a href="/pages">Pages</a></li>-->
    </ul>
    <ul class="nav" data-subscription="rss">
      <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
      
    </ul>
      
    <form class="navbar-form" action="http://google.com/search" method="get">
      <fieldset role="search">
        <input type="hidden" name="q" value="site:williamdemeo.github.io" />
        <input class="span2" type="text" name="q" results="0" placeholder="Search"/>
      </fieldset>
    </form>
      
    
  </div>
</div>
</nav>
<div class="wrapper_single">
  <div class="container">
    <article class="span8 offset2 article-format" role="article">
      <div role="div">
        
        <header>
          <h1 class="entry-title">Coq</h1>
          <p class="meta">








  


<time datetime="2014-06-06T00:00:00-05:00" pubdate data-updated="true">Jun 6<span>th</span>, 2014</time></p>
        </header>
        
        <h2 id="background">Background</h2>

<p>This page collects some basic information about Coq, and is mainly intended for
my research students interested in learning how to use Coq.</p>

<ul>
  <li>
    <p><strong>What is Coq?</strong>
Coq is a proof assistant and a functional programming language.</p>
  </li>
  <li>
    <p><strong>What is a proof assistant?</strong>
A proof assistant is a tool that automates the more routine aspects of building
proofs while depending on human guidance for more difficult aspects.
Coq is one such tool. It provides a rich environment for interactive
development of machine-checked formal reasoning.  </p>
  </li>
  <li>
    <p><strong>How to get started?</strong>
There are a number of ways to get started with Coq. Here I’ll first give
an overview of my experience, and then, further on down the page, I’ll provide
some more details.</p>

    <p>I got started with Coq by watching
<a href="http://www.youtube.com/watch?v=COe0VTNF2EA&amp;list=PLDD40A96C2ED54E99&amp;feature=share">Andrej Bauer’s series of YouTube tutorials</a>.
These videos give some nice introductory lessons which show exactly how one
interacts with Coq. For example, in the video
<a href="http://youtu.be/l6zqLJQCnzo">How to use Coq with Proof General</a>, Andrej shows how to use Coq to prove
that <em>Pierce’s Law</em> is equivalent to the <em>Law of Excluded Middle</em>.  </p>

    <p>(Proof General is one way to interact with Coq, which is the great for
those accustomed to the Emacs editor. For those who aren’t into Emacs,
an alternative interface to Coq exists, called CoqIDE, about which I know
absolutely nothing. I installed Coq and Proof General on Ubuntu 14.04 very
easily using the Synaptic package manager; no custom configuration required.)</p>
  </li>
  <li>
    <p><strong>How to continue?</strong>
Again, more details about how to really get going with Coq and how to use it
for theorem proving and functional programming, but if you want to stop
reading here, then I highly recommend reading (and solving the
exercises in) the first 5 or 6 chapters of the book,
<a href="http://www.cis.upenn.edu/~bcpierce/sf/current/index.html">Software Foundations</a>.</p>

    <p>(The link above expands to: 
<a href="http://www.cis.upenn.edu/~bcpierce/sf/current/index.html">http://www.cis.upenn.edu/~bcpierce/sf/current/index.html</a>)</p>

    <p>The <a href="http://www.cis.upenn.edu/~bcpierce/sf/current/index.html">Software Foundations</a>.
book is an outstanding resource.  Not only is it well written and
accessible, even to non-computer scientists, but also it’s fun to read because
of the many engaging exercises sprinkled throughout the book that test your
understanding of the material.</p>

    <p>With some prior programming experience—and especially with some functional
programming experience—you can probably proceed quickly through SF and learn
a lot about Coq by solving most, if not all, of the exercises. I would guess
that an intelligent undergraduate, with a little background in elementary 
logic, math, and programming, could get through a few chapters of SF per week.</p>
  </li>
</ul>

<h2 id="getting-started-with-proof-general">Getting Started with Proof General</h2>

<p>This section collects some notes on basic commands used to interact with Coq
using [Proof General].  We will begin with Andrej Bauer’s YouTube tutorials,
and then move on to the Basics section of the book
<a href="http://www.cis.upenn.edu/~bcpierce/sf/current/index.html">Software Foundations</a>.</p>

<h3 id="quickstart">Quickstart</h3>
<p>To get started using Coq with Proof General, I recommend
<a href="http://youtu.be/l6zqLJQCnzo">the YouTube tutorial by Andrej Bauer</a>.</p>

<iframe width="640" height="360" src="//www.youtube.com/embed/l6zqLJQCnzo" frameborder="0" allowfullscreen=""></iframe>

<p>Andrej has a
<a href="https://www.youtube.com/watch?v=COe0VTNF2EA&amp;list=PLDD40A96C2ED54E99&amp;feature=share">collection of nice tutorials</a>;
the video embedded above concerns Proof General.</p>

<p>I will not reiterate everything that Andrej covers in his tutorials.
Rather, the main point here is to describe, and record for my own
reference, a few emacs commands that are most useful when using Proof General
with Coq (since this isn’t covered in the Software Foundations book).</p>

<p>Let’s assume Coq and Proof General have been installed in Ubuntu, using, e.g.,</p>

<pre><code>sudo apt-get install proofgeneral coq
</code></pre>

<p>Startup emacs with a new file called <code>pierce_lem.v</code>:</p>

<pre><code>emacs pierce_lem.v
</code></pre>

<p>You should see the Proof General welcome screen for a few seconds, then an
emacs buffer containing the (empty) contents of the new <code>pierce_lem.v</code> file.</p>

<p>Add the following line to the <code>pierce_lem.v</code> file by typing it in the buffer window:</p>

<pre><code>Definition pierce := forall (p q : Prop), ((p -&gt; q) -&gt; p) -&gt; p.
</code></pre>

<p>Then enter the emacs control sequence: <code>C-c C-n</code> (that is, hold down the control
key while typing <code>c</code>, then hold down control while typing <code>n</code>).</p>

<p>If you see a new emacs buffer window labeled *goals* containing the text “pierce is
defined” and if the Definition appears in color, then Coq has accepted the new
definition.</p>

<p>Now, on the next line, type the definition of the law of excluded middle:</p>

<pre><code>Definition lem := forall (p : Prop), p \/ ~p.
</code></pre>

<p>and type <code>C-c C-n</code>, and then the theorem we want to prove:</p>

<pre><code>Theorem pierce_equiv_lem : pierce &lt;-&gt; lem.
</code></pre>

<p>After entering <code>C-c C-n</code> at the end of this line, Coq shows the goals and subgoals
that we need to establish in order to prove the theorem.</p>

<p>(Andrej mentions that by default Proof General complains if you try to edit
lines that have already been accepted by Coq.  It seems this is no longer the
case—you can freely edit any line, and it will revert to unchecked status.
However, if your installation complains when you try to edit lines that have
already been accepted, you can manually uncheck them using the command <code>C-c C-u</code>.)</p>

<p>Comments may be added between starred parens, like this:</p>

<pre><code>(* this is a comment *)
</code></pre>

<p>In Andrej’s Proof General YouTube tutorial, he only mentions a couple of Proof
General commands, such as:</p>

<ul>
  <li><code>C-c C-n</code> proof-assert-next-command-interactive  </li>
  <li><code>C-c C-u</code> proof-undo-last-successful-command  </li>
  <li><code>C-c C-p</code> show goals</li>
</ul>

<p>Some other useful commands are</p>

<ul>
  <li><code>C-c C-RET</code> proof-goto-point  </li>
  <li><code>C-c C-b</code> proof-process-buffer  </li>
  <li><code>C-c C-r</code> proof-retract-buffer</li>
</ul>

<p>The first of these evaluates the proof script up to the point (where cursor is
located), the second processes the whole buffer, and the third retracts the
whole buffer (i.e., clears all definitions).</p>

<p>These and other commands are mentioned in <a href="http://proofgeneral.inf.ed.ac.uk/htmlshow.php?title=Proof+General+user+manual+%28latest+release%29&amp;file=releases%2FProofGeneral-latest%2Fdoc%2FProofGeneral%2FProofGeneral_3.html#Script-processing-commands">Section 2.6</a> of the Proof General documentation.</p>

<p>Here is the link to <a href="http://proofgeneral.inf.ed.ac.uk/htmlshow.php?title=Proof+General+user+manual+%28latest+release%29&amp;file=releases%2FProofGeneral-latest%2Fdoc%2FProofGeneral%2FProofGeneral.html#Top">the main Proof General documentation page</a>
and <a href="http://proofgeneral.inf.ed.ac.uk/htmlshow.php?title=Proof+General+user+manual+%28latest+release%29&amp;file=releases%2FProofGeneral-latest%2Fdoc%2FProofGeneral%2FProofGeneral_12.html#Coq-Proof-General">the section on Coq</a>.</p>

<p>After following along with Andrej’s first tutorial on Proof General, I recommend
proceeding with the fourth in his series:</p>

<iframe width="640" height="360" src="//www.youtube.com/embed/z861PoZPGqk?list=PLDD40A96C2ED54E99" frameborder="0" allowfullscreen=""></iframe>

<h2 id="software-foundations-book">Software Foundations Book</h2>

<p>Download and extract the
<a href="http://www.cis.upenn.edu/~bcpierce/sf/current/sf.tar.gz">sf.tar.gz file</a> for
the Software Foundations book as follows.</p>

<pre><code>mkdir -p ~/git; mkdir ~/git/Coq; cd ~/git/Coq
wget http://www.cis.upenn.edu/~bcpierce/sf/current/sf.tar.gz
tar xvzf sf.tar.gz
rm sf.tar.gz
</code></pre>

<p><strong>Remarks</strong></p>

<ol>
  <li>
    <p>You may of course choose a directory other than ~/git/Coq, but the commands shown
below assume we are working in the ~/git/Coq directory.</p>
  </li>
  <li>
    <p>If you use Git, you may wish to create a new repository with the Software
  Foundation book’s files, so you can modify them as you work through them
  without worrying if you break them.  Do this as follows:</p>

    <pre><code> git init
 git add sf/*
 git commit -m "initial commit of sf book files"
</code></pre>
  </li>
</ol>

<h3 id="basics">Basics</h3>
<p>To be continued…</p>

        
          <footer>
            <p class="meta">
              
              








  


<time datetime="2014-06-06T00:00:00-05:00" pubdate data-updated="true">Jun 6<span>th</span>, 2014</time>
              
            </p>
          </footer>
        
      </div>
    
    </article>
  </div>
</div>
<div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/2015/01/11/three-sat-and-partition-lattices/">3-SAT and partition lattices</a>
        </li>
      
        <li>
          <a href="/2014/02/27/learn-you-an-agda/">Learn You an Agda</a>
        </li>
      
        <li>
          <a href="/2014/02/13/isotopy/">Isotopy</a>
        </li>
      
        <li>
          <a href="/2014/02/13/a-problem-of-palfy-and-saxl/">A problem of P&aacute;lfy and Saxl</a>
        </li>
      
        <li>
          <a href="/2014/02/13/typefunc/">TypeFunc</a>
        </li>
      
    </ul>
    <h2><a href="/archives">archives</a></h2>
  </div>
  <!-- <div class="span3"> -->
  <!--   
 -->
  <!-- </div> -->
  <div class="span7">
    
<h2>recent git activity</h2>
<dl id="gh_repos" class="dl-horizontal" data-github-user="williamdemeo" data-github-repo-count="5" data-github-skip-forks="true">
  <dd class="loading">updating...</dd>
</dl>
<script src="/javascripts/github.js" type="text/javascript"> </script>
<script src="/javascripts/libs/jXHR.js" type="text/javascript"> </script>


  </div>
  <!-- <div class="span4"> -->
  <!--   
 -->
  <!-- </div> -->
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/williamdemeo/" rel="tooltip" title="GitHub"><img class="social_icon" alt="github icon" src="/images/glyphicons_381_github.png"></a>









<a href="https://plus.google.com/u/0/+williamdemeo?rel=author" rel="tooltip" title="Google Plus"><img class="social_icon" alt="Google Plus icon" src="/images/glyphicons_386_google_plus.png"></a>





<a href="http://mathoverflow.net/users/9124/william-demeo/" rel="tooltip" title="MathOverflow"><img class="social_icon" alt="math overflow icon" src="/images/mathoverflow.ico"></a>



<a href="http://math.stackexchange.com/users/10915/william-demeo/" rel="tooltip" title="Math SE"><img class="social_icon" alt="math overflow icon" src="/images/mathstackexchange.ico"></a>




  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">William DeMeo</a>
  - Copyright &copy; 2016 - William DeMeo
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

  </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>






